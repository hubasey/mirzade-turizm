{% extends 'main/base.html' %}
{% load static %}
{% load date_filters %}

{% block title %}{% if selected_category %}{% if selected_category == 'hac' %}Hac Turları{% elif selected_category == 'umre' %}Umre Turları{% elif selected_category == 'kultur' %}Kültür Turları{% endif %} | {% endif %}Mirzade TUR{% endblock %}

{% block content %}
{% if sliders and not selected_category %}
<!-- Tam Sayfa Slider -->
<div class="slider-container">
    <div id="mainCarousel" class="carousel slide panoramic-slider" data-bs-ride="carousel">
        <div class="carousel-indicators">
            {% for slide in sliders %}
                <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active" aria-current="true"{% endif %} aria-label="Slide {{ forloop.counter }}"></button>
            {% endfor %}
        </div>
    <div class="carousel-inner">
        {% for slide in sliders %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                {% if slide.url %}
                    <a href="{{ slide.url }}" class="slider-link-overlay"></a>
                {% endif %}
                <div class="slider-image-container">
                    {% if slide.image %}
                        <img src="{{ slide.image.url }}" class="d-block w-100" alt="{{ slide.title }}">
                    {% else %}
                        <img src="{% static 'img/default-slider.jpg' %}" class="d-block w-100" alt="{{ slide.title|default:'Slider' }}">
                    {% endif %}
                </div>
            </div>
        {% endfor %}
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Önceki</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Sonraki</span>
    </button>
    </div>
</div>
{% else %}
<!-- Slider yoksa veya kategori seçilmişse, alternatif başlık göster -->
<div class="welcome-header py-5 bg-light">
    <div class="container text-center">
        <h1 class="display-4">Mirzade Turizm'e Hoş Geldiniz</h1>
        <p class="lead">Unutulmaz seyahat deneyimleri için doğru adrestesiniz.</p>
    </div>
</div>
{% endif %}

<!-- Kategori Başlık Bölümü (Sadece kategori filtrelemesi yapıldığında gösterilir) -->
{% if selected_category %}
<div class="category-header py-4 bg-light">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h1 class="category-title mb-2">
                    {% if selected_category == 'hac' %}
                        <i class="fas fa-kaaba text-primary me-2"></i> Hac Turları
                    {% elif selected_category == 'umre' %}
                        <i class="fas fa-mosque text-primary me-2"></i> Umre Turları
                    {% elif selected_category == 'kultur' %}
                        <i class="fas fa-landmark text-primary me-2"></i> Kültür Turları
                    {% endif %}
                </h1>
                <p class="category-description lead mb-0">
                    {% if selected_category == 'hac' %}
                        Kutsal topraklarda unutulmaz bir hac deneyimi için özel olarak hazırlanmış turlarımızı keşfedin.
                    {% elif selected_category == 'umre' %}
                        Mekke ve Medine'yi ziyaret etmek için özel umre programlarımızı inceleyin.
                    {% elif selected_category == 'kultur' %}
                        Dünya'nın farklı yerlerini keşfetmek için kültür turlarımızı inceleyin.
                    {% endif %}
                </p>
            </div>
            <div class="col-md-4 text-md-end mt-3 mt-md-0">
                <a href="{% url 'main:search_tours' %}" class="btn btn-outline-primary">
                    <i class="fas fa-search me-2"></i> Tüm Turları Görüntüle
                </a>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Tur Arama Formu -->
<div class="search-form-container py-4 {% if selected_category %}pt-0{% else %}bg-light{% endif %}">
    <div class="container">
        <div class="card shadow">
            <div class="card-header bg-primary text-white py-3">
                <h4 class="mb-0 text-center"><i class="fas fa-search me-2"></i> Tur Ara</h4>
            </div>
            <div class="card-body">
                <form action="{% url 'main:search_tours' %}" method="get" class="row g-3">
                    <div class="col-md-4 col-lg-3">
                        <label for="departure_city" class="form-label">NEREDEN</label>
                        <select class="form-select" id="departure_city" name="departure_city">
                            <option value="" selected>Lütfen Seçiniz</option>
                            {% for city in departure_cities %}
                                <option value="{{ city }}">{{ city }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-4 col-lg-3">
                        <label for="arrival_city" class="form-label">NEREYE</label>
                        <select class="form-select" id="arrival_city" name="arrival_city">
                            <option value="" selected>Lütfen Seçiniz</option>
                            {% for city in arrival_cities %}
                                <option value="{{ city }}">{{ city }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-4 col-lg-3">
                        <label for="program_type" class="form-label">TUR TİPİ</label>
                        <select class="form-select" id="program_type" name="category">
                            <option value="" selected>Lütfen Seçiniz</option>
                            <option value="hac">HAC</option>
                            <option value="umre">UMRE</option>
                            <option value="kultur">KÜLTÜR TURU</option>
                        </select>
                    </div>
                    <div class="col-md-4 col-lg-3">
                        <label for="duration" class="form-label">GÜN/GECE</label>
                        <select class="form-select" id="duration" name="duration">
                            <option value="" selected>Lütfen Seçiniz</option>
                            {% for duration in durations %}
                                <option value="{{ duration }}">{{ duration }} Gün {% if duration > 1 %}{{ duration|add:"-1" }} Gece{% endif %}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="date_range" class="form-label">TARİH SEÇİMİ</label>
                        <div class="input-group">
                            <input type="date" class="form-control" id="start_date" name="start_date" min="{{ today_date|date:'Y-m-d' }}" placeholder="Başlangıç">
                            <span class="input-group-text d-none d-md-flex"><i class="fas fa-arrow-right"></i></span>
                            <input type="date" class="form-control" id="end_date" name="end_date" min="{{ today_date|date:'Y-m-d' }}" placeholder="Bitiş">
                        </div>
                        <small class="form-text text-muted">Gidiş ve dönüş tarihlerini seçin</small>
                    </div>
                    <div class="col-md-6">
                        <label for="price_range" class="form-label">BÜTÇE</label>
                        <div class="price-range-container">
                            <div class="row g-2">
                                <div class="col-md-4">
                                    <div class="input-group">
                                        <span class="input-group-text" id="currency-symbol-min">₺</span>
                                        <input type="number" class="form-control" id="min_price" name="min_price" min="0" placeholder="Min. fiyat">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="input-group">
                                        <span class="input-group-text" id="currency-symbol-max">₺</span>
                                        <input type="number" class="form-control" id="max_price" name="max_price" min="0" placeholder="Max. fiyat">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <select class="form-select" id="currency" name="currency">
                                        <option value="TRY" selected>₺ TRY</option>
                                        <option value="USD">$ USD</option>
                                        <option value="SAR">﷼ SAR</option>
                                    </select>
                                </div>
                            </div>
                            <small class="form-text text-muted">Bütçenize uygun turları bulun</small>
                        </div>
                    </div>
                    <div class="col-12 text-center mt-4">
                        <button type="submit" class="btn btn-primary btn-lg px-5">
                            <i class="fas fa-search me-2"></i> TURUMU BUL
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Öne Çıkan Turlar -->
<div class="container">
    <section class="featured-tours my-5">
        <div class="section-header text-center mb-5">
            {% if selected_category %}
                <h2 class="section-title">
                    {% if selected_category == 'hac' %}
                        Hac Turlarımız
                    {% elif selected_category == 'umre' %}
                        Umre Turlarımız
                    {% elif selected_category == 'kultur' %}
                        Kültür Turlarımız
                    {% endif %}
                </h2>
                <p class="section-subtitle">
                    {% if selected_category == 'hac' %}
                        Kutsal topraklarda unutulmaz bir hac deneyimi için özel olarak hazırlanmış turlarımız
                    {% elif selected_category == 'umre' %}
                        Mekke ve Medine'yi ziyaret etmek için özel umre programlarımız
                    {% elif selected_category == 'kultur' %}
                        Dünya'nın farklı yerlerini keşfetmek için kültür turlarımız
                    {% endif %}
                </p>
            {% else %}
                <h2 class="section-title">Öne Çıkan Turlar</h2>
                <p class="section-subtitle">En popüler ve öne çıkan turlarımızı keşfedin</p>
            {% endif %}
        </div>
        
        <div class="row mt-4">
            {% for tour in tours %}
                <div class="col-md-4 mb-4">
                    <div class="card h-100 tour-card">
                        <a href="{% url 'main:tour_detail' tour.slug %}" class="card-link-overlay"></a>
                        {% if tour.image %}
                            <div class="tour-image-container">
                                <img src="{{ tour.image.url }}" class="card-img-top" alt="{{ tour.title }}" loading="lazy">
                                <div class="tour-category-badge">
                                    {% if tour.category == 'hac' %}
                                        <span class="badge bg-danger">HAC</span>
                                    {% elif tour.category == 'umre' %}
                                        <span class="badge bg-success">UMRE</span>
                                    {% elif tour.category == 'kultur' %}
                                        <span class="badge bg-info">KÜLTÜR</span>
                                    {% endif %}
                                </div>
                                <div class="tour-overlay">
                                    <a href="{% url 'main:tour_detail' tour.slug %}" class="btn btn-light btn-sm">
                                        <i class="fas fa-eye me-1"></i> İncele
                                    </a>
                                </div>
                            </div>
                        {% endif %}
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{ tour.title }}</h5>
                            <div class="tour-info-badges mb-3">
                                <div class="tour-date-badge">
                                    <div class="tour-date-range">
                                        <span class="tour-date-start">{{ tour.date|turkce_tarih:"d M" }}</span>
                                        <span class="tour-date-separator">-</span>
                                        <span class="tour-date-end">{% if tour.end_date %}{{ tour.end_date|turkce_tarih:"d M" }}{% else %}{{ tour.date|add_days_tr:tour.duration }}{% endif %}</span>
                                    </div>
                                </div>
                                <div class="tour-details">
                                    <div class="tour-detail-item">
                                        <i class="fas fa-clock me-2"></i>
                                        <span>{{ tour.duration }} Gün {% if tour.duration > 1 %}{{ tour.duration|add:"-1" }} Gece{% endif %}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="tour-highlights mb-3">
                                <div class="tour-highlight-item">
                                    <i class="fas fa-pray text-primary"></i> Dini Rehberlik
                                </div>
                                <div class="tour-highlight-item">
                                    <i class="fas fa-hotel text-primary"></i> Özel Konaklama
                                </div>
                                <div class="tour-highlight-item">
                                    <i class="fas fa-bus text-primary"></i> Tüm Transferler
                                </div>
                            </div>
                            <div class="price-info mt-auto">
                                <div class="price-tag mb-2">
                                    <div class="current-price">{{ tour.price }} {{ tour.currency }}</div>
                                    <div class="price-label">'DAN BAŞLAYAN FİYATLAR</div>
                                </div>
                                <div class="d-grid gap-2">
                                    <div class="row g-2">
                                        <div class="col-6">
                                            <a href="{% url 'main:tour_detail' tour.slug %}" class="btn btn-primary w-100 reservation-btn">
                                                <i class="fas fa-calendar-check me-1"></i> Detaylar
                                            </a>
                                        </div>
                                        <div class="col-6">
                                            <a href="https://wa.me/905334364372?text=Merhaba%2C%20{{ tour.title|urlencode }}%20turu%20hakk%C4%B1nda%20bilgi%20almak%20istiyorum." target="_blank" class="btn btn-success w-100 whatsapp-btn">
                                                <i class="fab fa-whatsapp fa-lg me-2"></i> WhatsApp
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer bg-white border-0">
                            <div class="limited-offer">
                                <i class="fas fa-mosque text-primary me-1"></i> Kutsal Topraklara Yolculuk
                            </div>
                        </div>
                    </div>
                </div>
            {% empty %}
                <div class="col-12">
                    <div class="alert alert-info">
                        <p class="text-center mb-0">Henüz tur bulunmamaktadır.</p>
                    </div>
                </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-4">
            <a href="{% url 'main:search_tours' %}" class="btn btn-outline" style="background-color: #00927E; color: white;">Tüm Turları Görüntüle</a>
        </div>
    </section>
</div>

{% if not selected_category %}
<!-- Kategori Kartları -->
<div class="category-shortcuts py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-4 mb-4">
                <a href="{% url 'main:category_filter' 'hac' %}" class="category-card card text-center h-100">
                    <div class="card-body">
                        <div class="category-icon mb-3">
                            <i class="fas fa-kaaba fa-3x text-primary"></i>
                        </div>
                        <h3 class="card-title">Hac Turları</h3>
                        <p class="card-text">Kutsal topraklarda unutulmaz bir hac deneyimi için turlarımızı inceleyin.</p>
                    </div>
                </a>
            </div>
            <div class="col-md-4 mb-4">
                <a href="{% url 'main:category_filter' 'umre' %}" class="category-card card text-center h-100">
                    <div class="card-body">
                        <div class="category-icon mb-3">
                            <i class="fas fa-mosque fa-3x text-primary"></i>
                        </div>
                        <h3 class="card-title">Umre Turları</h3>
                        <p class="card-text">Mekke ve Medine'yi ziyaret etmek için özel umre programlarımıza göz atın.</p>
                    </div>
                </a>
            </div>
            <div class="col-md-4 mb-4">
                <a href="{% url 'main:category_filter' 'kultur' %}" class="category-card card text-center h-100">
                    <div class="card-body">
                        <div class="category-icon mb-3">
                            <i class="fas fa-globe-americas fa-3x text-primary"></i>
                        </div>
                        <h3 class="card-title">Kültür Turları</h3>
                        <p class="card-text">Dünya'nın farklı yerlerini keşfetmek için kültür turlarımızı inceleyin.</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Neden Biz Bölümü -->
<div class="why-us-section py-5 bg-light">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="section-title">Neden Mirzade Turizm?</h2>
            <p class="section-subtitle">20 yılı aşkın tecrübemizle sizlere en iyi hizmeti sunuyoruz</p>
        </div>
        
        <div class="row">
            <div class="col-md-3 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-check-circle fa-3x text-primary"></i>
                    </div>
                    <h4>Güvenilir Hizmet</h4>
                    <p>Yılların verdiği tecrübe ile güvenilir ve kaliteli hizmet.</p>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-hotel fa-3x text-primary"></i>
                    </div>
                    <h4>Kaliteli Konaklama</h4>
                    <p>En iyi otellerde konforlu konaklama imkanı.</p>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-headset fa-3x text-primary"></i>
                    </div>
                    <h4>7/24 Destek</h4>
                    <p>Seyahatiniz boyunca 7/24 destek hizmeti.</p>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="feature-card text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-wallet fa-3x text-primary"></i>
                    </div>
                    <h4>Uygun Fiyatlar</h4>
                    <p>Kaliteli hizmeti uygun fiyatlarla sunuyoruz.</p>
                </div>
            </div>
        </div>
        
        <!-- Resmi Belgeler Bölümü -->
        <div class="official-documents mt-5">
            <div class="row">
                <div class="col-12 text-center mb-4">
                    <h3 class="documents-title">Resmi Belgelerimiz</h3>
                    <p class="documents-subtitle">Hac ve Umre organizasyonları için gerekli tüm resmi izin ve belgelerimiz</p>
                </div>
            </div>
            
            <div class="row document-gallery">
                <!-- Belge 1 -->
                <div class="col-md-4 mb-4 text-center">
                    <div class="document-simple">
                        <img src="{% static 'img/documents/belge1.jpg' %}" alt="Diyanet İşleri Başkanlığı İzin Belgesi" class="img-fluid document-image">
                        <h5 class="mt-3">Diyanet İşleri Başkanlığı İzin Belgesi</h5>
                        <a href="{% static 'img/documents/belge1.pdf' %}" target="_blank" class="btn btn-sm btn-primary mt-2">
                            <i class="fas fa-file-pdf me-2"></i> PDF Görüntüle
                        </a>
                    </div>
                </div>
                
                <!-- Belge 2 -->
                <div class="col-md-4 mb-4 text-center">
                    <div class="document-simple">
                        <img src="{% static 'img/documents/belge2.jpg' %}" alt="TÜRSAB Belgesi" class="img-fluid document-image">
                        <h5 class="mt-3">TÜRSAB Belgesi</h5>
                        <a href="{% static 'img/documents/belge2.pdf' %}" target="_blank" class="btn btn-sm btn-primary mt-2">
                            <i class="fas fa-file-pdf me-2"></i> PDF Görüntüle
                        </a>
                    </div>
                </div>
                
                <!-- Belge 3 -->
                <div class="col-md-4 mb-4 text-center">
                    <div class="document-simple">
                        <img src="{% static 'img/documents/belge3.jpg' %}" alt="Suudi Arabistan Vize Yetkisi" class="img-fluid document-image">
                        <h5 class="mt-3">Suudi Arabistan Vize Yetkisi</h5>
                        <a href="{% static 'img/documents/belge3.pdf' %}" target="_blank" class="btn btn-sm btn-primary mt-2">
                            <i class="fas fa-file-pdf me-2"></i> PDF Görüntüle
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Müşteri Yorumları -->
<div class="testimonials-section py-5">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="section-title">Misafirlerimizin Yorumları</h2>
            <p class="section-subtitle">Gerçek misafirlerimizin Google'da yaptığı değerlendirmeler</p>
        </div>
        
        <div class="row">
            <div class="col-12 mb-4">
                <!-- Google Yorumları Widget (geliştirilmiş tasarım) -->
                <div class="google-reviews-container">
                    <!-- Google Yorumları Başlık ve Rozet -->
                    <div class="google-reviews-header text-center mb-4">
                        <div class="google-rating-badge mb-3">
                            <a href="https://g.page/r/5835018292194752567/review" target="_blank" class="d-inline-block">
                                <div class="d-flex align-items-center justify-content-center">
                                    <div class="google-icon me-2">
                                        <img src="{% static 'img/google.png' %}" alt="Google" width="30">
                                    </div>
                                    <div class="rating-score me-2">
                                        <span class="score fw-bold" id="googleRatingScore">4.9</span>
                                        <div class="stars" id="googleRatingStars">
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star-half-alt text-warning"></i>
                                        </div>
                                    </div>
                                    <div class="rating-count">
                                        <span class="count-text" id="googleRatingCount">70 değerlendirme</span>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Tüm Google Yorumları (Dinamik Olarak Yüklenecek) -->
                    <div id="allGoogleReviews">
                        <div class="reviews-list" id="googleReviewsList">
                            <!-- Yorumlar JavaScript ile dinamik olarak buraya yüklenecek -->
                            <div id="reviewsLoading" class="text-center py-4">
                                <div class="spinner-border text-primary" role="status">
                                    <span class="visually-hidden">Yükleniyor...</span>
                                </div>
                                <p class="mt-2">Google yorumları yükleniyor...</p>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <a href="https://www.google.com/maps/place/Mirzade+Turizm/@41.0192833,28.9464202,18z/data=!4m8!3m7!1s0x14caba7eb90fa7c3:0x1a1522724f3826ad!8m2!3d41.017044!4d28.9507954!9m1!1b1!16s%2Fg%2F11f15kckf4?entry=ttu" target="_blank" class="btn btn-outline-primary">
                                <i class="fab fa-google me-2"></i>Tüm Google Yorumlarını Görüntüle (<span id="totalReviewCount">70</span>)
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Belge Görüntüleme Modalı -->
<div id="documentModal" class="document-modal">
    <span class="document-modal-close">&times;</span>
    <img class="document-modal-content" id="documentModalImg">
</div>
{% endblock %}

{% block extra_css %}
<style>
    /* Özel Renk Tanımlamaları */
    :root {
        --bs-primary: #00927E;
        --bs-primary-rgb: 0, 146, 126;
        --bs-primary-hover: #007a69;
        --bs-primary-text: #006d5b;
        --bs-primary-light: #e6f5f3;
    }
    
    .bg-primary {
        background-color: var(--bs-primary) !important;
    }
    
    .text-primary {
        color: var(--bs-primary) !important;
    }
    
    .btn-primary {
        background-color: var(--bs-primary);
        border-color: var(--bs-primary);
    }
    
    .btn-primary:hover, 
    .btn-primary:focus, 
    .btn-primary:active {
        background-color: var(--bs-primary-hover) !important;
        border-color: var(--bs-primary-hover) !important;
    }
    
    .btn-outline-primary {
        color: var(--bs-primary);
        border-color: var(--bs-primary);
    }
    
    .btn-outline-primary:hover {
        background-color: var(--bs-primary);
        border-color: var(--bs-primary);
    }
    
    /* Slider Optimizasyonu */
    .slider-container {
        width: 100%;
        overflow: hidden;
        position: relative;
        margin-bottom: 30px;
        border-radius: 0 0 20px 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }
    
    .carousel-item {
        height: auto;
        background-color: transparent;
        position: relative;
        overflow: hidden;
    }
    
    .slider-image-container {
        width: 100%;
        height: 0;
        padding-bottom: 35%;
        position: relative;
        overflow: hidden;
        transition: all 0.5s ease;
        background-color: #f8f9fa; /* Açık gri arka plan */
    }
    
    .slider-image-container img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        object-position: center center;
        background-color: transparent;
        transition: transform 1.2s ease, filter 0.8s ease;
    }
    
    .carousel-item:hover .slider-image-container img {
        transform: scale(1.05);
        filter: brightness(1.05) contrast(1.05);
    }
    
    /* Panoramik görüntüler için özel ayarlar */
    .panoramic-slider .slider-image-container {
        padding-bottom: 31.25%;
    }
    
    /* Slider link overlay */
    .slider-link-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 2;
        cursor: pointer;
        background: linear-gradient(to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,0.2) 100%);
        transition: background 0.4s ease;
    }
    
    .slider-link-overlay:hover {
        background: linear-gradient(to bottom, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.05) 40%, rgba(0,0,0,0.3) 100%);
    }
    
    /* Slider kontrolleri için z-index ayarı */
    .carousel-control-prev,
    .carousel-control-next {
        z-index: 5;
        position: absolute;
        width: 5%;
        opacity: 1;
        top: 0;
        bottom: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
    }
    
    .carousel-control-prev {
        left: 0;
    }
    
    .carousel-control-next {
        right: 0;
    }
    
    /* Slider kontrol butonlarını daha belirgin yapma */
    .carousel-control-prev-icon,
    .carousel-control-next-icon {
        background-color: rgba(255, 255, 255, 0.8);
        padding: 18px;
        border-radius: 50%;
        background-size: 50%;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
        width: 50px;
        height: 50px;
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    
    .carousel-control-prev:hover .carousel-control-prev-icon,
    .carousel-control-next:hover .carousel-control-next-icon {
        background-color: rgba(255, 255, 255, 0.95);
        transform: scale(1.1);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
    }
    
    .carousel-control-prev-icon {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23333'%3e%3cpath d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z'/%3e%3c/svg%3e");
    }
    
    .carousel-control-next-icon {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23333'%3e%3cpath d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
    }
    
    .carousel-indicators {
        z-index: 5;
        position: absolute;
        margin-bottom: 1.5rem;
        bottom: 0;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
    }
    
    .carousel-indicators [data-bs-target] {
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.7);
        border: 2px solid rgba(0, 0, 0, 0.2);
        margin: 0 6px;
        opacity: 0.8;
        transition: all 0.3s ease;
    }
    
    .carousel-indicators .active {
        background-color: var(--bs-primary);
        opacity: 1;
        transform: scale(1.2);
        border-color: rgba(255, 255, 255, 0.8);
    }
    
    /* Tur Arama Formu - Kullanıcı Dostu Güncellemeler */
    .search-form-container {
        margin-top: -20px;
        position: relative;
        z-index: 10;
    }
    
    .search-form-container .card {
        border-radius: 16px;
        border: none;
        box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        overflow: hidden;
        transition: transform 0.4s ease, box-shadow 0.4s ease;
    }
    
    .search-form-container .card:hover {
        box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        transform: translateY(-5px);
    }
    
    .search-form-container .card-header {
        border-radius: 0;
        padding: 18px;
        background: linear-gradient(135deg, var(--bs-primary), var(--bs-primary-hover));
        border: none;
    }
    
    .search-form-container .card-header h4 {
        font-size: 1.6rem;
        font-weight: 800;
        text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        letter-spacing: 0.5px;
    }
    
    .search-form-container .card-body {
        padding: 30px;
        background-color: #fff;
    }
    
    .search-form-container .form-label {
        font-weight: 700;
        font-size: 1rem;
        color: #333;
        margin-bottom: 10px;
        display: block;
        position: relative;
        padding-left: 28px;
        transition: color 0.3s ease;
    }
    
    .search-form-container .form-label:before {
        font-family: "Font Awesome 5 Free";
        position: absolute;
        left: 0;
        top: 0;
        font-weight: 900;
        color: var(--bs-primary);
        font-size: 1.1rem;
    }
    
    .search-form-container label[for="departure_city"]:before {
        content: "\f5b0"; /* uçak kalkış simgesi */
    }
    
    .search-form-container label[for="arrival_city"]:before {
        content: "\f5af"; /* uçak iniş simgesi */
    }
    
    .search-form-container label[for="program_type"]:before {
        content: "\f6fc"; /* cami/ibadet yeri simgesi */
    }
    
    .search-form-container label[for="duration"]:before {
        content: "\f783"; /* takvim-gün simgesi */
    }
    
    .search-form-container label[for="date_range"]:before {
        content: "\f133"; /* takvim */
    }
    
    .search-form-container label[for="price_range"]:before {
        content: "\f3d1"; /* para */
    }
    
    .search-form-container .form-text {
        font-size: 0.85rem;
        color: #6c757d;
        margin-top: 5px;
        display: block;
        transition: opacity 0.3s ease;
    }
    
    .search-form-container .form-select,
    .search-form-container .form-control {
        height: 50px;
        font-size: 1.1rem;
        padding: 10px 15px;
        border: 2px solid #e9ecef;
        border-radius: 12px;
        box-shadow: none;
        transition: all 0.3s ease;
        background-color: #f8f9fa;
    }
    
    .search-form-container .form-select:hover,
    .search-form-container .form-control:hover {
        border-color: #dee2e6;
        background-color: #fff;
    }
    
    .search-form-container .form-select:focus,
    .search-form-container .form-control:focus {
        border-color: var(--bs-primary);
        background-color: #fff;
        box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25);
    }
    
    .search-form-container input[type="date"] {
        height: 50px;
        font-size: 1.1rem;
        padding: 10px 15px;
        border: 2px solid #e9ecef;
        border-radius: 12px;
        box-shadow: none;
        transition: all 0.3s ease;
        cursor: pointer;
        background-color: #f8f9fa;
    }
    
    .search-form-container input[type="date"]:hover {
        border-color: #dee2e6;
        background-color: #fff;
    }
    
    .search-form-container input[type="date"]:focus {
        border-color: var(--bs-primary);
        background-color: #fff;
        box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25);
    }
    
    .search-form-container input[type="date"]::-webkit-calendar-picker-indicator {
        width: 20px;
        height: 20px;
        cursor: pointer;
        opacity: 0.7;
        transition: opacity 0.3s ease;
    }
    
    .search-form-container input[type="date"]::-webkit-calendar-picker-indicator:hover {
        opacity: 1;
    }
    
    .search-form-container .input-group-text {
        background-color: #f8f9fa;
        border: 2px solid #e9ecef;
        border-right: none;
        border-radius: 12px 0 0 12px;
        color: var(--bs-primary);
        font-weight: 700;
        transition: all 0.3s ease;
    }
    
    .search-form-container .input-group .form-control {
        border-radius: 0 12px 12px 0;
        border-left: none;
    }
    
    .search-form-container .input-group:focus-within .input-group-text {
        border-color: var(--bs-primary);
        background-color: #fff;
    }
    
    .search-form-container .btn-primary {
        padding: 16px 40px;
        font-weight: 800;
        font-size: 1.2rem;
        border-radius: 50px;
        box-shadow: 0 8px 20px rgba(var(--bs-primary-rgb), 0.4);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        background: linear-gradient(135deg, var(--bs-primary), var(--bs-primary-hover));
        border: none;
        position: relative;
        overflow: hidden;
        letter-spacing: 1px;
    }
    
    .search-form-container .btn-primary:before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        transition: all 0.6s ease;
    }
    
    .search-form-container .btn-primary:hover:before {
        left: 100%;
    }
    
    .search-form-container .btn-primary:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 25px rgba(var(--bs-primary-rgb), 0.5);
    }
    
    .search-form-container .btn-primary:active {
        transform: translateY(0);
        box-shadow: 0 5px 15px rgba(var(--bs-primary-rgb), 0.4);
    }
    
    .search-form-container .btn-primary i {
        font-size: 1.2rem;
        margin-right: 10px;
        vertical-align: middle;
    }
    
    /* Fiyat aralığı için özel stil */
    .search-form-container .price-range-container {
        background-color: #f8f9fa;
        border-radius: 12px;
        padding: 15px;
        box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        transition: all 0.3s ease;
    }
    
    .search-form-container .price-range-container:hover {
        background-color: #fff;
        box-shadow: inset 0 2px 5px rgba(0,0,0,0.08);
    }
    
    /* Mobil cihazlar için form ayarları */
    @media (max-width: 768px) {
        .search-form-container .card-body {
            padding: 20px;
        }
        
        .search-form-container .form-label {
            font-size: 1.1rem;
            margin-top: 15px;
        }
        
        .search-form-container .form-text {
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .search-form-container .form-select,
        .search-form-container .form-control,
        .search-form-container input[type="date"],
        .search-form-container input[type="number"],
        .search-form-container .input-group-text {
            height: 55px;
            font-size: 1.15rem;
        }
        
        .search-form-container input[type="date"]::-webkit-calendar-picker-indicator,
        .search-form-container input[type="number"]::-webkit-inner-spin-button,
        .search-form-container input[type="number"]::-webkit-outer-spin-button {
            width: 24px;
            height: 24px;
        }
        
        .search-form-container .input-group {
            flex-direction: column;
            width: 100%;
        }
        
        .search-form-container .input-group input[type="date"] {
            width: 100%;
            border-radius: 12px;
            margin-bottom: 10px;
            position: relative;
        }
        
        .search-form-container .input-group input[type="date"]#start_date::before {
            content: "Başlangıç: ";
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
            font-size: 1rem;
            pointer-events: none;
        }
        
        .search-form-container .input-group input[type="date"]#end_date::before {
            content: "Bitiş: ";
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
            font-size: 1rem;
            pointer-events: none;
        }
        
        .search-form-container .input-group input[type="date"]::-webkit-datetime-edit {
            padding-left: 80px;
        }
        
        .search-form-container .input-group .input-group-text {
            display: none;
        }
        
        /* Fiyat aralığı için özel mobil düzenlemeler */
        .search-form-container .price-range-container .row {
            margin: 0;
        }
        
        .search-form-container .price-range-container .col-12 {
            padding: 0 0 8px 0;
        }
        
        .search-form-container .price-range-container .input-group {
            width: 100%;
            display: flex;
            flex-direction: row;
        }
        
        .search-form-container .price-range-container .input-group-text {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 55px;
            border-radius: 12px 0 0 12px;
            background-color: #f8f9fa;
            border: 2px solid #e9ecef;
            border-right: none;
        }
        
        .search-form-container .price-range-container .form-control {
            border-radius: 0 12px 12px 0;
            border: 2px solid #e9ecef;
            height: 55px;
        }
        
        .search-form-container .price-range-container .form-select {
            border: 2px solid #e9ecef;
            border-radius: 12px;
            height: 55px;
            background-color: #f8f9fa;
        }
        
        .search-form-container .btn-primary {
            width: 100%;
            margin-top: 15px;
            padding: 15px;
            font-size: 1.3rem;
        }
        
        /* Tarih aralığı için özel mobil düzenlemeler */
        .search-form-container .col-md-4.col-lg-4 {
            margin-bottom: 15px;
        }
        
        .search-form-container .col-md-4.col-lg-4 .form-label {
            margin-bottom: 10px;
        }
        
        .search-form-container .col-md-4.col-lg-4 .form-text {
            margin-top: 10px;
        }
        
        /* Gün ve gece seçimleri için özel stil */
        .search-form-container .col-md-4.col-lg-2 {
            margin-bottom: 15px;
        }
        
        .search-form-container #currency {
            background-color: #f8f9fa;
        }
    }
    
    /* Küçük ekranlar için ek ayarlar */
    @media (max-width: 576px) {
        .search-form-container .card-body {
            padding: 15px;
        }
        
        .search-form-container .form-label {
            font-size: 1rem;
        }
        
        .search-form-container .form-text {
            font-size: 0.8rem;
        }
    }
    
    /* Kategori Kartları */
    .category-card {
        transition: transform 0.3s, box-shadow 0.3s;
        border: none;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        text-decoration: none;
        color: #333;
        background-color: #fff;
    }
    
    .category-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        color: #333;
        background-color: var(--bs-primary-light);
    }
    
    .category-card .card-title {
        color: var(--bs-primary-text);
        font-weight: 700;
        margin-bottom: 15px;
    }
    
    .category-card .card-text {
        color: #555;
    }
    
    .category-icon {
        transition: transform 0.3s;
    }
    
    .category-card:hover .category-icon {
        transform: scale(1.1);
    }
    
    /* Neden Biz Bölümü */
    .feature-card {
        padding: 20px;
        border-radius: 10px;
        background-color: #fff;
        box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        transition: transform 0.3s, box-shadow 0.3s;
        height: 100%;
    }
    
    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        background-color: var(--bs-primary-light);
    }
    
    .feature-card h4 {
        color: var(--bs-primary-text);
        font-weight: 600;
        margin-top: 10px;
        margin-bottom: 15px;
    }
    
    .feature-card p {
        color: #555;
    }
    
    .feature-icon {
        transition: transform 0.3s;
    }
    
    .feature-card:hover .feature-icon {
        transform: scale(1.1);
    }
    
    /* Tur Kartları - Yeniden Tasarlanmış */
    .tour-card {
        transition: all 1s cubic-bezier(0.19, 1, 0.22, 1);
        border: none;
        border-radius: 24px;
        box-shadow: 0 12px 28px rgba(0,0,0,0.05), 0 5px 10px rgba(0,0,0,0.03);
        overflow: hidden;
        position: relative;
        cursor: pointer;
        background-color: #fff;
        height: 100%;
        display: flex;
        flex-direction: column;
        transform-origin: center;
    }
    
    .tour-card:hover {
        transform: translateY(-6px) scale(1.01);
        box-shadow: 0 16px 30px rgba(0,0,0,0.12), 0 8px 15px rgba(0,0,0,0.06);
    }
    
    .tour-image-container {
        position: relative;
        height: 240px;
        overflow: hidden;
    }
    
    .tour-image-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 1.5s cubic-bezier(0.19, 1, 0.22, 1), filter 1s ease;
    }
    
    .tour-card:hover .tour-image-container img {
        transform: scale(1.05);
        filter: brightness(1.03) contrast(1.03) saturate(1.05);
    }
    
    .tour-category-badge {
        position: absolute;
        top: 18px;
        right: 18px;
        z-index: 3;
        transform: translateY(0);
        transition: transform 0.8s cubic-bezier(0.19, 1, 0.22, 1), opacity 0.6s ease;
    }
    
    .tour-card:hover .tour-category-badge {
        transform: translateY(-2px) scale(1.02);
    }
    
    .tour-category-badge .badge {
        font-size: 0.9rem;
        padding: 10px 18px;
        font-weight: 800;
        box-shadow: 0 6px 18px rgba(0,0,0,0.25);
        border-radius: 30px;
        letter-spacing: 1px;
    }
    
    .tour-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.3) 40%, rgba(0,0,0,0.1) 70%);
        display: flex;
        align-items: flex-end;
        justify-content: center;
        padding-bottom: 25px;
        opacity: 0;
        transition: opacity 1s ease;
    }
    
    .tour-card:hover .tour-overlay {
        opacity: 1;
    }
    
    .tour-overlay .btn-light {
        background-color: rgba(255, 255, 255, 0.95);
        border: none;
        padding: 12px 24px;
        font-weight: 700;
        border-radius: 30px;
        box-shadow: 0 6px 18px rgba(0,0,0,0.3);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        font-size: 1rem;
        letter-spacing: 0.5px;
    }
    
    .tour-overlay .btn-light:hover {
        background-color: #fff;
        transform: translateY(-6px) scale(1.05);
        box-shadow: 0 10px 25px rgba(0,0,0,0.35);
    }
    
    .tour-card .card-title {
        font-weight: 800;
        font-size: 1.4rem;
        margin-bottom: 20px;
        color: var(--bs-primary-text);
        line-height: 1.3;
        position: relative;
        padding-bottom: 16px;
    }
    
    .tour-card .card-title:after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 70px;
        height: 4px;
        background: linear-gradient(to right, var(--bs-primary), var(--bs-primary-hover));
        border-radius: 4px;
        transition: width 0.4s ease, transform 0.3s ease;
    }
    
    .tour-card:hover .card-title:after {
        width: 120px;
        transform: translateX(5px);
    }
    
    .tour-card .card-body {
        padding: 28px;
        flex: 1;
        display: flex;
        flex-direction: column;
    }
    
    .tour-date-badge {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        background: linear-gradient(135deg, var(--bs-primary), var(--bs-primary-hover));
        color: white;
        border-radius: 14px;
        box-shadow: 0 8px 15px rgba(var(--bs-primary-rgb), 0.2);
        padding: 14px 16px;
        transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
    }
    
    .tour-card:hover .tour-date-badge {
        box-shadow: 0 10px 18px rgba(var(--bs-primary-rgb), 0.25);
        transform: translateY(-3px) scale(1.01);
    }
    
    .tour-date-start, 
    .tour-date-end {
        font-size: 1.15rem;
        text-transform: uppercase;
        font-weight: 800;
        text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    .tour-date-separator {
        margin: 0 14px;
        font-size: 1.15rem;
        opacity: 0.8;
    }
    
    .tour-detail-item {
        display: flex;
        align-items: center;
        font-size: 0.95rem;
        color: var(--bs-primary-text);
        background-color: var(--bs-primary-light);
        padding: 12px 16px;
        border-radius: 12px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-weight: 600;
        transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        border-left: 5px solid var(--bs-primary);
        margin-bottom: 2px;
    }
    
    .tour-card:hover .tour-detail-item {
        transform: translateX(3px);
        box-shadow: 0 4px 8px rgba(var(--bs-primary-rgb), 0.08);
    }
    
    .tour-detail-item i {
        color: var(--bs-primary);
        min-width: 22px;
        margin-right: 14px !important;
        font-size: 1.15rem;
    }
    
    .tour-highlights {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 22px;
    }
    
    .tour-highlight-item {
        font-size: 0.95rem;
        color: var(--bs-primary-text);
        display: flex;
        align-items: center;
        gap: 14px;
        padding: 10px 0;
        font-weight: 600;
        transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        border-bottom: 1px dashed rgba(var(--bs-primary-rgb), 0.25);
        padding-bottom: 12px;
    }
    
    .tour-card:hover .tour-highlight-item {
        transform: translateX(3px);
    }
    
    .tour-highlight-item i {
        color: var(--bs-primary);
        font-size: 1.15rem;
        min-width: 22px;
    }
    
    .price-tag {
        text-align: center;
        background: linear-gradient(to right, var(--bs-primary-light), #f8f9fa);
        padding: 20px;
        border-radius: 14px;
        margin-bottom: 24px;
        transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        border-left: 6px solid var(--bs-primary);
        box-shadow: 0 5px 15px rgba(var(--bs-primary-rgb), 0.1);
    }
    
    .tour-card:hover .price-tag {
        box-shadow: 0 8px 20px rgba(var(--bs-primary-rgb), 0.15);
        transform: translateY(-3px) scale(1.02);
    }
    
    .current-price {
        font-size: 1.9rem;
        font-weight: 900;
        color: var(--bs-primary);
        line-height: 1.2;
        text-shadow: 0 2px 4px rgba(var(--bs-primary-rgb), 0.2);
    }
    
    .tour-card .btn-primary {
        border-radius: 30px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.8px;
        transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        font-size: 0.95rem;
        padding: 14px 20px;
        box-shadow: 0 8px 18px rgba(var(--bs-primary-rgb), 0.2);
    }
    
    .tour-card .btn-primary:hover {
        transform: translateY(-3px) scale(1.02);
        box-shadow: 0 10px 20px rgba(var(--bs-primary-rgb), 0.25);
    }
    
    .whatsapp-btn {
        background-color: #25D366;
        border-color: #25D366;
        color: white;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.8px;
        transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        font-size: 0.95rem;
        padding: 14px 20px;
        border-radius: 30px;
        position: relative;
        z-index: 5;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 8px 18px rgba(37, 211, 102, 0.2);
    }
    
    .whatsapp-btn:hover {
        background-color: #128C7E;
        border-color: #128C7E;
        color: white;
        transform: translateY(-3px) scale(1.02);
        box-shadow: 0 10px 20px rgba(37, 211, 102, 0.25);
    }
    
    .whatsapp-btn i {
        font-size: 1.3rem;
        margin-right: 8px;
    }
    
    /* Responsive Ayarlar */
    @media (min-width: 768px) and (max-width: 991px) {
        .tour-card .card-title {
            font-size: 1.15rem;
        }
        
        .tour-date-start, 
        .tour-date-end {
            font-size: 0.95rem;
        }
        
        .tour-image-container {
            height: 180px;
        }
    }
    
    @media (max-width: 767px) {
        .tour-info-badges {
            flex-direction: row;
            align-items: flex-start;
        }
        
        .tour-details {
            max-width: calc(100% - 80px);
        }
        
        .tour-detail-item {
            font-size: 0.85rem;
            padding: 6px 10px;
        }
        
        .tour-highlight-item {
            font-size: 0.85rem;
        }
        
        .price-label {
            font-size: 0.9rem;
        }
        
        .current-price {
            font-size: 1.4rem;
        }
        
        .limited-offer {
            font-size: 0.85rem;
        }
        
        .tour-date-start, 
        .tour-date-end {
            font-size: 0.9rem;
        }
        
        .tour-card:hover {
            transform: translateY(-5px) scale(1.01);
        }
    }
    
    @media (max-width: 576px) {
        .tour-image-container {
            height: 170px;
        }
        
        .tour-card .card-body {
            padding: 15px;
        }
        
        .tour-card .card-title {
            font-size: 1.1rem;
            margin-bottom: 12px;
            padding-bottom: 10px;
        }
        
        .tour-date-badge {
            padding: 8px 10px;
        }
        
        .tour-date-start, 
        .tour-date-end {
            font-size: 0.85rem;
        }
        
        .tour-date-separator {
            margin: 0 5px;
        }
        
        .tour-card .btn-primary,
        .tour-card .whatsapp-btn {
            font-size: 0.8rem;
            padding: 8px 10px;
        }
        
        .tour-card .btn-primary i,
        .tour-card .whatsapp-btn i {
            font-size: 1rem;
            margin-right: 3px;
        }
        
        .tour-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.12);
        }
        
        .tour-card:hover .tour-detail-item,
        .tour-card:hover .tour-highlight-item {
            transform: translateX(0);
        }
    }
    
    /* Mobil cihazlar için slider ayarları */
    @media (max-width: 768px) {
        .slider-container {
            margin-bottom: 20px;
            border-radius: 0 0 15px 15px;
        }
        
        .panoramic-slider .slider-image-container {
            padding-bottom: 31.25%;
        }
        
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            padding: 12px;
            width: 40px;
            height: 40px;
        }
        
        .carousel-indicators [data-bs-target] {
            width: 10px;
            height: 10px;
            margin: 0 4px;
        }
        
        .carousel-indicators {
            margin-bottom: 0.8rem;
        }
    }
    
    /* Küçük ekranlar için ek ayarlar */
    @media (max-width: 576px) {
        .slider-container {
            margin-bottom: 15px;
            border-radius: 0 0 10px 10px;
        }
        
        .panoramic-slider .slider-image-container {
            padding-bottom: 31.25%;
        }
        
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            padding: 10px;
            width: 32px;
            height: 32px;
        }
        
        .carousel-indicators [data-bs-target] {
            width: 8px;
            height: 8px;
            margin: 0 3px;
        }
    }
    
    /* Müşteri Yorumları Slider Stili */
    .testimonials-section {
        background-color: #f8f9fa;
        position: relative;
        overflow: hidden;
        padding: 80px 0;
        background-image: linear-gradient(135deg, rgba(var(--bs-primary-rgb), 0.05) 0%, rgba(var(--bs-primary-rgb), 0.01) 100%);
    }
    
    .testimonials-section:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23009270' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        opacity: 0.5;
    }
    
    .testimonial-slider-container {
        position: relative;
        padding: 20px 0;
    }
    
    .testimonial-card {
        background-color: #fff;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        height: 100%;
        transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        border-top: 5px solid var(--bs-primary);
        position: relative;
        overflow: hidden;
    }
    
    .testimonial-card:before {
        content: '\f10d';
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 3rem;
        color: rgba(var(--bs-primary-rgb), 0.1);
        z-index: 0;
    }
    
    .testimonial-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 35px rgba(0,0,0,0.12);
    }
    
    .testimonial-content {
        position: relative;
        z-index: 1;
    }
    
    .testimonial-content p {
        font-size: 1.05rem;
        line-height: 1.7;
        color: #555;
        font-style: italic;
        margin-bottom: 0;
    }
    
    .testimonial-author {
        margin-top: 20px;
        border-top: 1px dashed rgba(var(--bs-primary-rgb), 0.2);
        padding-top: 20px;
    }
    
    .testimonial-author h5 {
        font-weight: 700;
        color: var(--bs-primary-text);
        font-size: 1.1rem;
    }
    
    .testimonial-avatar i {
        color: var(--bs-primary);
        opacity: 0.8;
    }
    
    /* Carousel kontrolleri */
    #testimonialCarousel .carousel-control-prev,
    #testimonialCarousel .carousel-control-next {
        width: 50px;
        height: 50px;
        background-color: var(--bs-primary);
        border-radius: 50%;
        top: 50%;
        transform: translateY(-50%);
        opacity: 0.7;
        transition: all 0.3s ease;
    }
    
    #testimonialCarousel .carousel-control-prev {
        left: -15px;
    }
    
    #testimonialCarousel .carousel-control-next {
        right: -15px;
    }
    
    #testimonialCarousel .carousel-control-prev:hover,
    #testimonialCarousel .carousel-control-next:hover {
        opacity: 1;
        background-color: var(--bs-primary-hover);
        transform: translateY(-50%) scale(1.1);
    }
    
    #testimonialCarousel .carousel-control-prev-icon,
    #testimonialCarousel .carousel-control-next-icon {
        width: 20px;
        height: 20px;
    }
    
    .testimonial-indicators {
        position: relative;
        margin-top: 30px;
        margin-bottom: 0;
        justify-content: center;
    }
    
    .testimonial-indicators [data-bs-target] {
        width: 12px;
        height: 12px;
        background-color: rgba(var(--bs-primary-rgb), 0.3);
        border: none;
        border-radius: 50%;
        margin: 0 5px;
        transition: all 0.3s ease;
    }
    
    .testimonial-indicators .active {
        background-color: var(--bs-primary);
        opacity: 1;
        transform: scale(1.2);
    }
    
    /* Responsive ayarlar */
    @media (max-width: 991px) {
        .testimonial-card {
            padding: 25px;
            margin-bottom: 20px;
        }
        
        .testimonial-content p {
            font-size: 1rem;
        }
        
        #testimonialCarousel .carousel-control-prev,
        #testimonialCarousel .carousel-control-next {
            width: 40px;
            height: 40px;
        }
    }
    
    @media (max-width: 767px) {
        .testimonials-section {
            padding: 60px 0;
        }
        
        .testimonial-card {
            padding: 20px;
        }
        
        .testimonial-content p {
            font-size: 0.95rem;
        }
        
        .testimonial-author h5 {
            font-size: 1rem;
        }
        
        #testimonialCarousel .carousel-control-prev {
            left: -10px;
        }
        
        #testimonialCarousel .carousel-control-next {
            right: -10px;
        }
    }
    
    /* Belge Görüntüleme İyileştirmeleri */
    .document-simple {
        margin-bottom: 20px;
    }
    
    .document-image {
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: zoom-in;
        height: 250px;
        object-fit: cover;
        width: 100%;
    }
    
    .document-image:hover {
        transform: scale(1.03);
        box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    
    .document-simple h5 {
        color: var(--bs-primary-text);
        font-weight: 600;
        margin-top: 15px;
        margin-bottom: 10px;
    }
    
    /* Modal Görüntüleme Stili */
    .document-modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.9);
        align-items: center;
        justify-content: center;
    }
    
    .document-modal-content {
        margin: auto;
        display: block;
        max-width: 90%;
        max-height: 90vh;
        animation: zoom 0.6s;
        object-fit: contain;
    }
    
    @keyframes zoom {
        from {transform: scale(0.1)}
        to {transform: scale(1)}
    }
    
    .document-modal-close {
        position: absolute;
        top: 20px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
        z-index: 10000;
        cursor: pointer;
    }
    
    .document-modal-close:hover,
    .document-modal-close:focus {
        color: var(--bs-primary);
        text-decoration: none;
        cursor: pointer;
    }
    
    @media (max-width: 767px) {
        .document-image {
            height: 200px;
        }
    }
    
    /* Google Yorumları Widget */
    .google-reviews-container {
        max-width: 1000px;
        margin: 0 auto;
        background-color: #fff;
        border-radius: 16px;
        padding: 40px;
        box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        position: relative;
        overflow: hidden;
    }
    
    .google-reviews-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        background: linear-gradient(to right, var(--bs-primary), #00b09b);
        border-radius: 16px 16px 0 0;
    }
    
    .google-reviews-header {
        position: relative;
    }
    
    .google-rating-badge {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 15px;
        transition: transform 0.3s ease;
    }
    
    .google-rating-badge:hover {
        transform: translateY(-5px);
    }
    
    .google-rating-badge a {
        text-decoration: none;
        color: #333;
        padding: 15px 25px;
        border-radius: 16px;
        background-color: #fff;
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
        border: 1px solid #f1f1f1;
    }
    
    .google-rating-badge a:hover {
        box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        transform: translateY(-3px);
    }
    
    .google-rating-badge .score {
        font-size: 1.5rem;
        color: var(--bs-primary);
    }
    
    .google-rating-badge .stars {
        margin-top: 3px;
    }
    
    .google-rating-badge .count-text {
        font-size: 0.9rem;
        color: #666;
    }
    
    /* Tüm Google Yorumları Listesi */
    #allGoogleReviews {
        max-height: 600px;
        overflow-y: auto;
        padding-right: 10px;
    }
    
    #allGoogleReviews::-webkit-scrollbar {
        width: 8px;
    }
    
    #allGoogleReviews::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }
    
    #allGoogleReviews::-webkit-scrollbar-thumb {
        background: var(--bs-primary);
        border-radius: 10px;
    }
    
    #allGoogleReviews::-webkit-scrollbar-thumb:hover {
        background: var(--bs-primary-hover);
    }
    
    .reviews-list {
        position: relative;
    }
    
    /* Review Card Styling */
    .review-card {
        background-color: #f9f9f9;
        border-radius: 16px;
        padding: 25px;
        border-left: 5px solid var(--bs-primary);
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        margin-bottom: 20px;
        position: relative;
        overflow: hidden;
    }
    
    .review-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0,0,0,0.1);
    }
    
    /* Yeni yorum vurgusu */
    .new-review {
        animation: fadeIn 0.8s ease-out;
    }
    
    .review-highlight {
        background-color: rgba(var(--bs-primary-rgb), 0.1);
        box-shadow: 0 10px 30px rgba(var(--bs-primary-rgb), 0.2);
        transition: all 0.8s ease;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .review-author h5 {
        font-weight: 700;
        color: #333;
        transition: color 0.3s ease;
        margin-bottom: 0;
    }
    
    .review-card:hover .review-author h5 {
        color: var(--bs-primary);
    }
    
    .review-stars {
        margin-top: 5px;
    }
    
    .review-stars i {
        font-size: 0.85rem;
        transition: transform 0.3s ease;
    }
    
    .review-card:hover .review-stars i {
        transform: scale(1.2);
    }
    
    .review-content {
        margin-top: 15px;
        padding-top: 15px;
        border-top: 1px dashed #ddd;
        font-style: italic;
        color: #555;
        line-height: 1.7;
    }
    
    .review-content p {
        margin-bottom: 0;
    }
    
    /* Google Footer */
    .google-reviews-footer {
        margin-top: 30px;
        padding-top: 30px;
        border-top: 1px solid #eee;
    }
    
    .reviews-info {
        color: #666;
        margin-bottom: 20px;
    }
    
    .google-link {
        color: var(--bs-primary);
        font-weight: 600;
        transition: all 0.3s ease;
        text-decoration: none;
        border-bottom: 1px dashed var(--bs-primary);
        padding-bottom: 2px;
    }
    
    .google-link:hover {
        color: var(--bs-primary-hover);
        border-bottom: 1px solid var(--bs-primary-hover);
    }
    
    .review-action-btn {
        padding: 12px 30px;
        font-weight: 700;
        border-radius: 50px;
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        box-shadow: 0 8px 20px rgba(var(--bs-primary-rgb), 0.3);
    }
    
    .review-action-btn:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 12px 25px rgba(var(--bs-primary-rgb), 0.4);
    }
    
    /* Responsive düzenlemeler */
    @media (max-width: 991px) {
        .google-reviews-container {
            padding: 30px;
        }
    }
    
    @media (max-width: 767px) {
        .google-reviews-container {
            padding: 25px 15px;
        }
        
        .review-card {
            padding: 20px;
        }
        
        .google-rating-badge a {
            padding: 12px 20px;
        }
        
        .google-rating-badge .score {
            font-size: 1.3rem;
        }
        
        #allGoogleReviews {
            max-height: 500px;
        }
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    // ... existing code ...
    // Google Yorumları için tarih sırasına göre düzenlenmiş JavaScript fonksiyonu
    function addNewGoogleReview(reviewData) {
        const reviewsList = document.querySelector('.reviews-list');
        if (!reviewsList) return;
        
        // Yeni yorum için şablonu oluştur
        const newReviewElement = document.createElement('div');
        newReviewElement.className = 'review-card mb-3 new-review';
        
        // Yıldız HTML'i oluştur
        let starsHtml = '';
        for (let i = 1; i <= 5; i++) {
            if (i <= reviewData.rating) {
                starsHtml += '<i class="fas fa-star text-warning"></i>';
            } else if (i - 0.5 <= reviewData.rating) {
                starsHtml += '<i class="fas fa-star-half-alt text-warning"></i>';
            } else {
                starsHtml += '<i class="far fa-star text-warning"></i>';
            }
        }
        
        // Yorum HTML'ini oluştur
        newReviewElement.innerHTML = `
            <div class="review-header d-flex align-items-center mb-3">
                <div class="review-author">
                    <h5 class="mb-0">${reviewData.author_name}</h5>
                    <div class="review-stars">
                        ${starsHtml}
                    </div>
                    <small class="text-muted">${reviewData.relative_time_description}</small>
                </div>
            </div>
            <div class="review-content">
                <p>${reviewData.text}</p>
            </div>
        `;
        
        // Yeni yorumu listenin başına ekle
        reviewsList.insertBefore(newReviewElement, reviewsList.firstChild);
        
        // Animasyon ekle
        setTimeout(() => {
            newReviewElement.classList.add('review-highlight');
        }, 100);
        
        // 3 saniye sonra vurgu efektini kaldır
        setTimeout(() => {
            newReviewElement.classList.remove('review-highlight');
        }, 3000);
    }

    document.addEventListener('DOMContentLoaded', function() {
        // Para birimi değiştiğinde sembolü güncelle
        const currencySelect = document.getElementById('currency');
        const currencySymbolMin = document.getElementById('currency-symbol-min');
        const currencySymbolMax = document.getElementById('currency-symbol-max');
        
        // Sembol haritası
        const currencySymbols = {
            'TRY': '₺',
            'USD': '$',
            'SAR': '﷼'
        };
        
        // Başlangıçta sembolü ayarla
        if (currencySelect) {
            updateCurrencySymbol();
            
            // Para birimi değiştiğinde sembolü güncelle
            currencySelect.addEventListener('change', updateCurrencySymbol);
            
            function updateCurrencySymbol() {
                const selectedCurrency = currencySelect.value;
                const symbol = currencySymbols[selectedCurrency] || '₺';
                currencySymbolMin.textContent = symbol;
                currencySymbolMax.textContent = symbol;
            }
        }
        
        // WhatsApp butonları için tıklama olayı
        const whatsappButtons = document.querySelectorAll('.whatsapp-btn');
        whatsappButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.stopPropagation();
                e.preventDefault();
                const url = this.getAttribute('href');
                window.open(url, '_blank');
            });
        });
        
        // Basit belge görüntüleme
        const modal = document.getElementById('documentModal');
        const modalImg = document.getElementById('documentModalImg');
        const closeBtn = document.querySelector('.document-modal-close');
        
        if (modal && modalImg && closeBtn) {
            // Belge görsellerine tıklama olayı
            const documentImages = document.querySelectorAll('.document-image');
            
            documentImages.forEach(img => {
                img.addEventListener('click', function() {
                    // Orijinal görsel URL'sini al (static klasöründen)
                    const imgSrc = this.src;
                    
                    // Modal içindeki görsel için URL'yi ayarla
                    modalImg.src = imgSrc;
                    
                    // Modalı göster
                    modal.style.display = "flex";
                    
                    console.log("Görsel tıklandı: " + imgSrc);
                });
            });
            
            // Modal kapatma düğmesi
            closeBtn.addEventListener('click', function() {
                modal.style.display = "none";
            });
            
            // Modal dışına tıklama ile kapatma
            window.addEventListener('click', function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            });
            
            // ESC tuşu ile kapatma
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && modal.style.display === "flex") {
                    modal.style.display = "none";
                }
            });
        }
        
        // Google Yorumlarını Kontrol Et
        // Bu fonksiyon, gerçek bir uygulamada Google Places API veya başka bir servis kullanarak 
        // gerçek yorumları çekecektir. Şimdilik bu kısmı pasif bırakıyoruz.
        /*
        function checkGoogleReviews() {
            // Google Place ID
            const placeId = 'ChIJw6cPuX66yhQRrSY4T3IiFRo';
            
            // API anahtarı (gerçek uygulamada server tarafında saklanmalıdır)
            // const apiKey = 'YOUR_API_KEY';
            
            // Yeni yorumları kontrol etmek için son kontrol zamanını al
            const lastCheck = localStorage.getItem('lastGoogleReviewCheck') || 0;
            const now = new Date().getTime();
            
            // Her 24 saatte bir kontrol et
            const checkInterval = 24 * 60 * 60 * 1000;
            
            if (now - lastCheck > checkInterval) {
                // Burada gerçek API çağrısı yapılacak
                // fetch(`https://maps.googleapis.com/maps/api/place/details/json?placeid=${placeId}&fields=reviews&key=${apiKey}`)
                //    .then(response => response.json())
                //    .then(data => {
                //        if (data.result && data.result.reviews) {
                //            // Yeni yorumları işle
                //            const newReviews = data.result.reviews;
                //            
                //            // En yeni yorumu ekle (varsa)
                //            if (newReviews.length > 0) {
                //                addNewGoogleReview(newReviews[0]);
                //            }
                //        }
                //    })
                //    .catch(error => console.error('Google yorumları alınamadı:', error));
                
                // Son kontrol zamanını güncelle
                localStorage.setItem('lastGoogleReviewCheck', now.toString());
            }
        }
        
        // Sayfa yüklendiğinde Google yorumlarını kontrol et
        checkGoogleReviews();
        */
    });
    // ... existing code ...

    // Google yorumlarını JSON dosyasından yükleyen fonksiyon
    document.addEventListener('DOMContentLoaded', function() {
        loadGoogleReviews();
    });

    function loadGoogleReviews() {
        fetch('/static/main/data/google_reviews.json')
            .then(response => {
                if (!response.ok) {
                    // Eğer dosya yoksa veya bir hata oluşursa varsayılan yorumları yükle
                    loadDefaultReviews();
                    throw new Error('Google yorumları JSON dosyası bulunamadı');
                }
                return response.json();
            })
            .then(data => {
                // Yükleme animasyonunu kaldır
                document.getElementById('reviewsLoading').remove();
                
                // Toplam yorum sayısı ve puanını güncelle
                document.getElementById('googleRatingScore').textContent = data.rating.toFixed(1);
                document.getElementById('googleRatingCount').textContent = data.total_ratings + ' değerlendirme';
                document.getElementById('totalReviewCount').textContent = data.total_ratings;
                
                // Yıldızları güncelle
                updateStarRating(data.rating);
                
                // Yorumları göster
                const reviewsList = document.getElementById('googleReviewsList');
                
                // En fazla 6 yorum göster
                const reviews = data.reviews.slice(0, 6);
                
                reviews.forEach(review => {
                    const reviewCard = createReviewCard(review);
                    reviewsList.appendChild(reviewCard);
                });
            })
            .catch(error => {
                console.error('Yorumlar yüklenirken hata:', error);
                // Hata durumunda varsayılan yorumları göster
                loadDefaultReviews();
            });
    }

    // Yıldız derecelendirmesini güncelleyen fonksiyon
    function updateStarRating(rating) {
        const starsContainer = document.getElementById('googleRatingStars');
        starsContainer.innerHTML = '';
        
        // Tam yıldızlar
        const fullStars = Math.floor(rating);
        for (let i = 0; i < fullStars; i++) {
            const star = document.createElement('i');
            star.className = 'fas fa-star text-warning';
            starsContainer.appendChild(star);
        }
        
        // Yarım yıldız (eğer gerekiyorsa)
        if (rating % 1 >= 0.5) {
            const halfStar = document.createElement('i');
            halfStar.className = 'fas fa-star-half-alt text-warning';
            starsContainer.appendChild(halfStar);
        }
        
        // Boş yıldızlar
        const emptyStars = 5 - Math.ceil(rating);
        for (let i = 0; i < emptyStars; i++) {
            const emptyStar = document.createElement('i');
            emptyStar.className = 'far fa-star text-warning';
            starsContainer.appendChild(emptyStar);
        }
    }

    // Yorum kartı oluşturan fonksiyon
    function createReviewCard(review) {
        const reviewCard = document.createElement('div');
        reviewCard.className = 'review-card mb-3';
        
        const reviewHeader = document.createElement('div');
        reviewHeader.className = 'review-header d-flex align-items-center mb-3';
        
        const reviewAuthor = document.createElement('div');
        reviewAuthor.className = 'review-author';
        
        const authorName = document.createElement('h5');
        authorName.className = 'mb-0';
        authorName.textContent = review.author_name;
        
        const stars = document.createElement('div');
        stars.className = 'review-stars';
        
        // Yıldızları ekle
        for (let i = 0; i < 5; i++) {
            const star = document.createElement('i');
            if (i < review.rating) {
                star.className = 'fas fa-star text-warning';
            } else {
                star.className = 'far fa-star text-warning';
            }
            stars.appendChild(star);
        }
        
        // Tarih formatını düzenle
        const reviewDate = new Date(review.time * 1000);
        const now = new Date();
        const diffTime = Math.abs(now - reviewDate);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        
        let timeText;
        if (diffDays < 7) {
            timeText = diffDays + ' gün önce';
        } else if (diffDays < 30) {
            timeText = Math.floor(diffDays / 7) + ' hafta önce';
        } else if (diffDays < 365) {
            timeText = Math.floor(diffDays / 30) + ' ay önce';
        } else {
            timeText = Math.floor(diffDays / 365) + ' yıl önce';
        }
        
        const dateSpan = document.createElement('small');
        dateSpan.className = 'text-muted';
        dateSpan.textContent = timeText;
        
        reviewAuthor.appendChild(authorName);
        reviewAuthor.appendChild(stars);
        reviewAuthor.appendChild(dateSpan);
        
        reviewHeader.appendChild(reviewAuthor);
        
        const reviewContent = document.createElement('div');
        reviewContent.className = 'review-content';
        
        const reviewText = document.createElement('p');
        reviewText.textContent = review.text;
        
        reviewContent.appendChild(reviewText);
        
        reviewCard.appendChild(reviewHeader);
        reviewCard.appendChild(reviewContent);
        
        return reviewCard;
    }

    // Varsayılan yorumları yükleyen fonksiyon (API olmadığında veya hata durumunda)
    function loadDefaultReviews() {
        if (document.getElementById('reviewsLoading')) {
            document.getElementById('reviewsLoading').remove();
        }
        
        const reviewsList = document.getElementById('googleReviewsList');
        
        // Gerçek Google yorumlarından alınmış veriler
        const defaultReviews = [
            {
                author_name: "Engin Bodur",
                rating: 5,
                text: "İlk kez umreye geliyorum ve her şey çok güzel özenle planlanmış. Mirzade ekibi ile yolculuk yapmaktan çok memnunum. Rehberlerimiz çok ilgili ve alakalı. Her konuda yardımcı oluyorlar.",
                time: new Date().getTime() / 1000 - 14*24*60*60 // 2 hafta önce
            },
            {
                author_name: "İbrahim E.",
                rating: 5,
                text: "Mirzade Turizm olarak gittiğimiz ilk Umre yolculuğumuz olduğu için biraz tedirginlik yaşıyorduk. Ama harika bir müşteri memnuniyeti ile karşılaştık. Teşekkür ederiz.",
                time: new Date().getTime() / 1000 - 30*24*60*60 // 1 ay önce
            },
            {
                author_name: "Rabia K.",
                rating: 5,
                text: "Kudüs turu harikaydı. Kaliteli hizmet, güler yüzlü rehberler, temiz oteller... Her şey için teşekkürler Mirzade Turizm.",
                time: new Date().getTime() / 1000 - 60*24*60*60 // 2 ay önce
            },
            {
                author_name: "Ahmet Atan",
                rating: 5,
                text: "Kudüs ziyaretimiz mükemmeldi. Tüm organizasyon içinde bir eksiğini görmedim. Rehber arkadaşımız mükemmeldi. Otel ve konaklama güzeldi, ulaşım araçlarınız yeni ve konforluydu. Gösterdiğiniz ilgi, alaka için teşekkür ederiz.",
                time: new Date().getTime() / 1000 - 90*24*60*60 // 3 ay önce
            },
            {
                author_name: "Hakan Y.",
                rating: 5,
                text: "5 yıldızı hak eden bir hizmet. Oteller, ulaşım ve rehberlik hizmetleri çok iyiydi. Ailem ve ben çok memnun kaldık. Mirzade Turizm'e teşekkürler.",
                time: new Date().getTime() / 1000 - 120*24*60*60 // 4 ay önce
            }
        ];
        
        defaultReviews.forEach(review => {
            const reviewCard = createReviewCard(review);
            reviewsList.appendChild(reviewCard);
        });
    }
</script>
{% endblock %}

